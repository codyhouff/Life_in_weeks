<!DOCTYPE html>
<html>
<head>
   <script src ="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.3/axios.min.js"></script>
</head>
<body>
   <h2>Using the <i> Axios NPM package </i> to fetch data from API</h2>
   <div id = "output"> </div>
   <script>
      const birthday_year = 1997;
   
      let output = document.getElementById('output');
      function fetchData() {
         axios.get("https://cors-anywhere.herokuapp.com/https://www.metaculus.com/api2/questions/5121/", {"Authorization": "Token cf7eb0ce4fa018f9e85a4e8bcdd39e2f3513d010"}) 
         .then((response) => {
            const q2Value = response.data["community_prediction"]["full"]["q2"];
            output.innerHTML += "percent = " + q2Value + "<br/>";
            let date = new Date('8/25/2020');
            date.setDate(date.getDate() + 65500*q2Value);
            let Metaculus_Strong_AGI_Year = date.getFullYear();
			output.innerHTML += "date = " + Metaculus_Strong_AGI_Year + "<br/>";
            const Metaculus_Strong_AGI = (Metaculus_Strong_AGI_Year - birthday_year)*52;
            output.innerHTML += "Metaculus_Strong_AGI_weeks = " + Metaculus_Strong_AGI + "<br/>";
         })
         .catch((err) => {
            output.innerHTML += "The error is - " + err + "<br/>";
         })
      }

      fetchData();
   </script>
</body>
</html>



<!--
<!DOCTYPE html>
<html>
<head>
   <script src ="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.3/axios.min.js"></script>
</head>
<body>
   <h2>Using the <i> Axios NPM package </i> to fetch data from API</h2>
   <div id = "output"> </div>
   <button onclick = "fetchData()"> Fetch data using Axios </button>
   <script>
      let output = document.getElementById('output');
      function fetchData() {
         axios.get("https://cors-anywhere.herokuapp.com/https://www.metaculus.com/api2/questions/5121/", {"Authorization": "Token cf7eb0ce4fa018f9e85a4e8bcdd39e2f3513d010"}) 
         .then((response) => {
            const q2Value = response.data["community_prediction"]["full"]["q2"];
            output.innerHTML += "id = " + q2Value + "<br/>";
            //output.innerHTML += "userId : " + response.data.userId + "<br/>";
            //output.innerHTML += "id : " + response.data.id + "<br/>";
            //output.innerHTML += "title : " + response.data.title + "<br/>";
            //output.innerHTML += "completed : " + response.data.completed + "<br/>";
         })
         .catch((err) => {
            output.innerHTML += "The error is - " + err + "<br/>";
         })
      }
   </script>
</body>
</html>
 -->